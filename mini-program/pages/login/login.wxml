<!-- pages/login/login.wxml -->
<view class="login-container">
  <view class="logo-section">
    <image class="logo" src="/images/logo.png" mode="aspectFit"></image>
    <text class="app-title">神经科学修行助手</text>
    <text class="app-subtitle">探索大脑奥秘，理解思维本质</text>
  </view>

  <view class="login-options">
    <button 
      class="wechat-login-btn" 
      bindtap="onWechatLogin"
      disabled="{{isLoggingIn}}"
      open-type="getUserInfo" 
      bindgetuserinfo="onGetUserInfo"
    >
      <image class="wechat-icon" src="/images/wechat-icon.png" mode="aspectFit"></image>
      <text>{{isLoggingIn ? '登录中...' : '微信登录'}}</text>
    </button>

    <!-- 手机号绑定按钮（只有授权后显示） -->
    <button 
      wx:if="{{hasAuth && !isGuest}}"
      class="phone-login-btn" 
      bindtap="onBindPhoneNumber"
      open-type="getPhoneNumber"
      bindgetphonenumber="onGetPhoneNumber"
    >
      <text>绑定手机号</text>
    </button>

    <view class="divider">
      <view class="divider-line"></view>
      <text class="divider-text">或</text>
      <view class="divider-line"></view>
    </view>

    <button class="dev-login-btn" bindtap="onDevLogin">
      开发者登录
    </button>
  </view>

  <view class="agreement">
    <text class="agreement-text">登录即表示您同意《用户协议》和《隐私政策》</text>
  </view>
</view>